(function(a){var b={flatten:function(c){var d=this;return Array.isArray(c)?c.reduce(function(g,e){return g.concat(Array.isArray(e)?d.flatten(e):e)},[]):c},dedup:function(c,d){if(Array.isArray(c)){if(d){c=this.flatten(c)}return c.filter(function(f,e){return c.lastIndexOf(f)===e})}return c},rand:function(d,e,c){return Array.isArray(d)?d[Math.floor(Math.random()*((c||d.length)-(e||0)))+(e||0)]:d},sum:function(c){if(Array.isArray(c)){return this.flatten(c).reduce(function(e,d){return typeof(d)==="number"?e+=d:e},0)}return c},mean:function(j,l,h){if(Array.isArray(j)){h=h||2;j=this.flatten(j);typeof(l)==="string"?l=l||"ari":h=l||2;var k=0,g=0,d=1;switch(l){case"ari":default:for(var f in j){if(typeof(j[f])==="number"){k+=j[f];g++}}return(k/g).toFixed(h);break;case"geo":for(var f in j){if(typeof(j[f])==="number"){d*=j[f];g++}}return Math.pow(d,1/g).toFixed(h);break;case"har":var e=[];for(var f in j){if(typeof(j[f])==="number"){e.push(j[f])}}var c=e.map(function(i){return 1/i}).reduce(function(m,i){return m+i});return(e.length/c).toFixed(h)}}return j},median:function(c,d){if(Array.isArray(c)){d=d||2;c=this.flatten(c);var g=[];for(var e in c){if(typeof(c[e])==="number"){g.push(c[e])}}if(!g){return 0}else{if(g.length===1){return g[0]}}g.sort(function(i,h){return i-h});var f=Math.floor(g.length/2);if(g.length%2){return g[f]}else{return((g[f-1]+g[f])/2).toFixed(d)}}return c},freq:function(c){if(Array.isArray(c)){c=this.flatten(c);var d=c.reduce(function(f,e){if(f[e]){f[e]++}else{f[e]=1}return f},{});return d}return c},breakdown:function(c,e){if(Array.isArray(c)){c=this.flatten(c);var d={number_:[],string_:[],function_:[],object_:[],undefined_:[],boolean_:[]};c.forEach(function(h,g,f){switch(typeof(f[g])){case"number":d.number_.push(f[g]);break;case"string":d.string_.push(f[g]);break;case"function":d.function_.push(f[g]);break;case"object":d.object_.push(f[g]);break;case"undefined":d.undefined_.push(f[g]);break;case"boolean":d.boolean_.push(f[g]);break}})}return e?d:console.log("Numbers: "+d.number_.length+"\nStrings: "+d.string_.length+"\nFunctions: "+d.function_.length+"\nObjects: "+d.object_.length+"\nUndefined: "+d.undefined_.length+"\nBooleans: "+d.boolean_.length+"\nTotal items: "+c.length+"\n")},cop:function(d,f){if(Array.isArray(d)){if(f){d=this.flatten(d)}var e=this;var c=[];d.forEach(function(g){if(Array.isArray(g)&&g.length!=0){c.push(e.cop(g))}else{if(typeof g!=="undefined"&&typeof g!=="null"){c.push(g)}}});return c}return d},keep:function(c,e,d){if(Array.isArray(c)){c=this.flatten(c);e=e||"string";e=e.toLowerCase();d=d||"all";d=d.toLowerCase();switch(d){case"all":default:return c.filter(function(f){return typeof(f)===e.toLowerCase()});break;case"but":return c.filter(function(f){return typeof(f)!==e.toLowerCase()});break}}return c}};if(typeof module!=="undefined"&&module.exports){module.exports=b}else{a.array_=b}}(this));